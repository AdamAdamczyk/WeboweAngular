<div class="task-detail">
  <h1>Szczegóły zadań</h1>
  <div class="add-task">
    <textarea [(ngModel)]="newTaskTitle" placeholder="Wpisz treść zadania"></textarea>
    <button (click)="addTask()">Dodaj zadanie</button>
  </div>

  <button class="back-button" (click)="goBack()">Wróć do listy funkcjonalności</button>

  <div class="task-list">
    <h2>TODO</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'TODO'); let i = index">
        <div class="task-item">
          {{ task.title }}
          <div class="buttons">
            <button class="move-button" (click)="changeTaskStatus(task, 'DOING')">Przenieś do DOING</button>
            <button class="move-button" (click)="changeTaskStatus(task, 'DONE')">Przenieś do DONE</button>
            <button class="delete-button" (click)="deleteTask(task._id)">Usuń</button>
            <button class="update-button" (click)="openUpdateDialog(task)">Edytuj</button>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div class="task-list">
    <h2>DOING</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'DOING'); let i = index">
        <div class="task-item">
          {{ task.title }}
          <div class="buttons">
            <button class="move-button" (click)="changeTaskStatus(task, 'DONE')">Przenieś do DONE</button>
            <button class="move-button" (click)=" changeTaskStatus(task, 'TODO')">Przenieś do TODO</button>
            <button class="delete-button" (click)="deleteTask(task._id)">Usuń</button>
            <button class="update-button" (click)="openUpdateDialog(task)">Edytuj</button>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div class="task-list">
    <h2>DONE</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'DONE'); let i = index">
        <div class="task-item">
          {{ task.title }}
          <div class="buttons">
            <button class="move-button" (click)="changeTaskStatus(task, 'TODO')">Przenieś do TODO</button>
            <button class="move-button" (click)="changeTaskStatus(task, 'DOING')">Przenieś do DOING</button>
            <button class="delete-button" (click)="deleteTask(task._id)">Usuń</button>
            <button class="update-button" (click)="openUpdateDialog(task)">Edytuj</button>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>