<div class="task-detail">
  <h1>Task Detail</h1>
  <div class="add-task">
    <textarea [(ngModel)]="newTaskTitle" placeholder="Enter task title"></textarea>
    <button (click)="addTask()">Add Task</button>
  </div>

  <button class="back" (click)="goBack()">Back</button>

  <div class="task-list">
    <h2>TODO</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'TODO'); let i = index" cdkDrag>
        <div class="task-item">
          {{ task.title }}
          <button class="moveTo" (click)="changeTaskStatus(task, 'DOING')">Move to DOING</button>
          <button class="moveTo" (click)="changeTaskStatus(task, 'DONE')">Move to DONE</button>
          <button class="delete" (click)="deleteTask(task._id)">Delete</button>
          <button class="update" (click)="openUpdateDialog(task)">Update</button>
        </div>
      </li>
    </ul>
  </div>

  <div class="task-list">
    <h2>DOING</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'DOING'); let i = index" cdkDrag>
        <div class="task-item">
          {{ task.title }}
          <button class="moveTo" (click)=" changeTaskStatus(task, 'TODO')">Move to TODO</button>
          <button class="moveTo" (click)="changeTaskStatus(task, 'DONE')">Move to DONE</button>
          <button class="delete" (click)="deleteTask(task._id)">Delete</button>
          <button class="update" (click)="openUpdateDialog(task)">Update</button>
        </div>
      </li>
    </ul>
  </div>

  <div class="task-list">
    <h2>DONE</h2>
    <ul>
      <li *ngFor="let task of filterTasks(tasks, 'DONE'); let i = index" cdkDrag>
        <div class="task-item">
          {{ task.title }}
          <button class="moveTo" (click)="changeTaskStatus(task, 'TODO')">Move to TODO</button>
          <button class="moveTo" (click)="changeTaskStatus(task, 'DOING')">Move to DOING</button>
          <button class="delete" (click)="deleteTask(task._id)">Delete</button>
          <button class="update" (click)="openUpdateDialog(task)">Update</button>
        </div>
      </li>
    </ul>
  </div>
</div>